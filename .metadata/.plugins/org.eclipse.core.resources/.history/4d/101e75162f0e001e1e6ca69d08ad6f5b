DELIMITER $$
CREATE FUNCTION funcion(dia int, nombre VARCHAR(15)) RETUNRS (VARCHAR(15))
BEGIN
 DECLARE done DEFAULT 0;
 DECLARE curs CURSOR FOR SELECT....;
 DECLARE CONTINUE HANLDLER FOR SQLSTATE="02000" SET done = 1;
 OPEN curs;
 REPEAT
 FETCH curs INTO ...

 IF NOT done THEN
 END IF; 
 UNTIL done END REPEAT;
 CLOSE curs;
END$$